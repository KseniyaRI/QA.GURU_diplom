# Test info

- Name: Создание Engagement и работа с ним >> Проверка пагинации на странице Engagements
- Location: /Users/kryabukhin001/Documents/QA.GURU/QA.GURU_diplom/specs/pages.spec.js:100:5

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)

Locator: locator('p.MuiTablePagination-displayedRows')
Expected string: "1–50 из 411"
Received string: "1–50 из 419"
Call log:
  - expect.toContainText with timeout 5000ms
  - waiting for locator('p.MuiTablePagination-displayedRows')
    9 × locator resolved to <p class="MuiTablePagination-displayedRows css-1chpzqh">1–50 из 419</p>
      - unexpected value "1–50 из 419"

    at /Users/kryabukhin001/Documents/QA.GURU/QA.GURU_diplom/specs/pages.spec.js:105:59
```

# Page snapshot

```yaml
- banner:
  - button:
    - paragraph
  - link:
    - /url: /
    - img
  - button "TR Tatiana Rusanova"
- heading "Проекты" [level=5]
- link "Создать проект":
  - /url: /engagements/create
- combobox "Финансовый год"
- button "Открыть"
- paragraph
- combobox "Статус"
- button "Открыть"
- paragraph
- combobox "Головной клиент (клиентский код)"
- button "Открыть"
- paragraph
- combobox "Участник проекта"
- button "Открыть"
- paragraph
- button "Только мои"
- paragraph: 1–50 из 419
- button "Перейти на предыдущую страницу" [disabled]
- button "Перейти на следующую страницу"
- grid:
  - rowgroup:
    - row "Название Головной клиент Финансовый год Статус":
      - columnheader "Название"
      - columnheader "Головной клиент"
      - columnheader "Финансовый год"
      - columnheader "Статус"
      - columnheader
  - row "near than incidentally on yet Happy friday FY25 Создано":
    - cell "near than incidentally on yet":
      - link "near than incidentally on yet":
        - /url: /engagements/39c590bc-853f-4bca-8e95-76ed16ec761b/info
        - text: NT
        - paragraph: near than incidentally on yet
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "near than incidentally on yet Happy friday FY25 Создано":
    - cell "near than incidentally on yet":
      - link "near than incidentally on yet":
        - /url: /engagements/9a12abcf-f2da-4dcc-9983-a78e38d20f42/info
        - text: NT
        - paragraph: near than incidentally on yet
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "vulgarise upset censor corrupt instead Happy friday FY25 Создано":
    - cell "vulgarise upset censor corrupt instead":
      - link "vulgarise upset censor corrupt instead":
        - /url: /engagements/84817194-2c57-42c1-b4e9-0d9db3dda805/info
        - text: VU
        - paragraph: vulgarise upset censor corrupt instead
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "off furthermore flight flustered flood Happy friday FY25 Создано":
    - cell "off furthermore flight flustered flood":
      - link "off furthermore flight flustered flood":
        - /url: /engagements/87b0072d-c2ff-46d5-b70b-0f3f829250c0/info
        - text: OF
        - paragraph: off furthermore flight flustered flood
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "sightseeing rosemary propound late upset Happy friday FY25 Создано":
    - cell "sightseeing rosemary propound late upset":
      - link "sightseeing rosemary propound late upset":
        - /url: /engagements/36ef59a8-3cf1-4146-8f00-ed56f74d23c1/info
        - text: SR
        - paragraph: sightseeing rosemary propound late upset
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "shudder crushing remark rapidly ew Happy friday FY25 Создано":
    - cell "shudder crushing remark rapidly ew":
      - link "shudder crushing remark rapidly ew":
        - /url: /engagements/0ca69d39-f65b-469c-8c09-90e53b195199/info
        - text: SC
        - paragraph: shudder crushing remark rapidly ew
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "unlike suckle lightly whenever duh Happy friday FY25 Создано":
    - cell "unlike suckle lightly whenever duh":
      - link "unlike suckle lightly whenever duh":
        - /url: /engagements/5f313c4e-1afd-4d88-9105-052c19fb60e7/info
        - text: US
        - paragraph: unlike suckle lightly whenever duh
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "divine terrorise which upside-down though Happy friday FY25 Создано":
    - cell "divine terrorise which upside-down though":
      - link "divine terrorise which upside-down though":
        - /url: /engagements/4a4d923a-1217-4864-a825-75aa1b011cb5/info
        - text: DT
        - paragraph: divine terrorise which upside-down though
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "first despite immense tuber sway Happy friday FY25 Создано":
    - cell "first despite immense tuber sway":
      - link "first despite immense tuber sway":
        - /url: /engagements/c0910a4e-3d71-401d-8b35-b87b6afbeb9f/info
        - text: FD
        - paragraph: first despite immense tuber sway
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "bench ack gazebo consequently sham Happy friday FY25 Создано":
    - cell "bench ack gazebo consequently sham":
      - link "bench ack gazebo consequently sham":
        - /url: /engagements/fb1780ea-a17c-4892-b0ff-199cac06b72c/info
        - text: BA
        - paragraph: bench ack gazebo consequently sham
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "until fooey wilted foodstuffs hence Happy friday FY25 Создано":
    - cell "until fooey wilted foodstuffs hence":
      - link "until fooey wilted foodstuffs hence":
        - /url: /engagements/733c00f4-acdf-4ded-8c48-fd08d5437ee9/info
        - text: UF
        - paragraph: until fooey wilted foodstuffs hence
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
  - row "wearily informal drat bind aside Happy friday FY25 Создано":
    - cell "wearily informal drat bind aside":
      - link "wearily informal drat bind aside":
        - /url: /engagements/9d59b183-1a18-42a3-bb87-4d3ab7732d7c/info
        - text: WI
        - paragraph: wearily informal drat bind aside
    - cell "Happy friday"
    - cell "FY25"
    - cell "Создано"
    - cell
```

# Test source

```ts
   5 |
   6 | // добавляем данные юзера для авторизации
   7 | const USER_DATA = {
   8 |   password: PASSWORD,
   9 |   username: USERNAME
   10 | };
   11 |
   12 | // добавляем атрибуты нового Engagement
   13 | const engagementBuilder = new EngagementBuilder()
   14 |       .addCustomName()
   15 |       .addDepartmentName()
   16 |       .addType()
   17 |       .addReportingStandard()
   18 |       .addVerificationPeriods()
   19 |       .addVerificationYear()
   20 |       .createEngagement()
   21 |
   22 | test.describe('Создание Engagement и работа с ним', () => {
   23 |     test.beforeEach('Переход на главную страницу веб-приложения', async ({ page }) => {
   24 |         const signInPage = new SignInPage(page);
   25 |         const engagementsPage = new EngagementsPage(page);
   26 |
   27 |         await signInPage.open(BASE_URL);
   28 |         await signInPage.signInAndEngagementsPage(USER_DATA.username, USER_DATA.password);
   29 |
   30 |         await expect(engagementsPage.createEngLink).toBeVisible();
   31 |     });
   32 |
   33 |     test('Проверка валидации при попытке создать Engagement с незаполненными полями', async ({ page }) => {
   34 |         const engagementsPage = new EngagementsPage(page);
   35 |         const createEngPage = new CreateEngPage(page);
   36 |
   37 |         await engagementsPage.gotoCreateEngPage();
   38 |         await createEngPage.validateEngEntities();
   39 |
   40 |         expect(createEngPage.clientNameFieldError).toContainText('Обязательно для заполнения');
   41 |         expect(createEngPage.departmentFieldError).toContainText('Обязательно для заполнения');
   42 |         expect(createEngPage.customNameFieldError).toContainText('Обязательно для заполнения');
   43 |     });
   44 |
   45 |     test('Создание Engagement', async ({ page }) => {
   46 |         const engagementsPage = new EngagementsPage(page);
   47 |         const createEngPage = new CreateEngPage(page);
   48 |         const promisePage = new PromisePage(page);
   49 |
   50 |         await engagementsPage.gotoCreateEngPage();
   51 |         
   52 |         await createEngPage.createEngagement(
   53 |             engagementBuilder.name,
   54 |             CLIENT_CODE,
   55 |             engagementBuilder.departmentName,
   56 |             engagementBuilder.type,
   57 |             engagementBuilder.reportingStandard,
   58 |             engagementBuilder.verificationPeriods,
   59 |             engagementBuilder.verificationYear
   60 |         );
   61 |
   62 |         expect(promisePage.promiseButton).toBeVisible();
   63 |         expect(promisePage.welcomeMessage).toBeVisible();    
   64 |     });
   65 |
   66 |     test('Подписание независимости', async ({ page }) => {
   67 |         const engagementsPage = new EngagementsPage(page);
   68 |         const createEngPage = new CreateEngPage(page);
   69 |         const promisePage = new PromisePage(page);
   70 |         const engagementPage = new EngagementPage(
   71 |             page, 
   72 |             engagementBuilder.name,
   73 |             CLIENT_CODE,
   74 |             engagementBuilder.departmentName,
   75 |             engagementBuilder.type,
   76 |             engagementBuilder.reportingStandard,
   77 |             engagementBuilder.verificationPeriods,
   78 |             engagementBuilder.verificationYear
   79 |         );
   80 |
   81 |         await engagementsPage.gotoCreateEngPage();
   82 |         await createEngPage.createEngagement(
   83 |             engagementBuilder.name,
   84 |             CLIENT_CODE,
   85 |             engagementBuilder.departmentName,
   86 |             engagementBuilder.type,
   87 |             engagementBuilder.reportingStandard,
   88 |             engagementBuilder.verificationPeriods,
   89 |             engagementBuilder.verificationYear
   90 |         );
   91 |
   92 |         await promisePage.addPromise();
   93 |         await expect(promisePage.doneEngMessage).toBeVisible();
   94 |
   95 |         await promisePage.gotoEngagementPage();
   96 |         await expect(engagementPage.headingInfo).toBeVisible();
   97 |         await expect(engagementPage.clientCodeInfo).toContainText(`Клиентский код: ${CLIENT_CODE}`);
   98 |     });
   99 |
  100 |     test('Проверка пагинации на странице Engagements', async ({ page }) => {
  101 |         const engagementsPage = new EngagementsPage(page);
  102 |
  103 |         await engagementsPage.usePagination();
  104 |
> 105 |         await expect(engagementsPage.firstPaginationIcon).toContainText('1–50 из 411');
      |                                                           ^ Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)
  106 |     });
  107 |
  108 |     test('Переход на страницу списка запросов (логов) Engagement', async ({ page }) => {
  109 |         const engagementsPage = new EngagementsPage(page);
  110 |
  111 |         await engagementsPage.gotoEngagementLogsPage();
  112 |
  113 |         await expect(engagementsPage.dropDownEngLogs).toBeVisible(); 
  114 |     });
  115 | });
```